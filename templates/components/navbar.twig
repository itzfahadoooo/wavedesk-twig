<nav class="bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <a href="/" class="flex items-center gap-2 font-bold text-xl sm:text-2xl text-blue-600">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 sm:w-8 sm:h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path d="M2 6s2 3 6 3 6-3 10-3 4 3 4 3" />
          <path d="M2 12s2 3 6 3 6-3 10-3 4 3 4 3" />
          <path d="M2 18s2 3 6 3 6-3 10-3 4 3 4 3" />
        </svg>
        WaveDesk
      </a>

      <div class="hidden md:flex items-center gap-6">
        {% if isAuthenticated %}
          <a href="/?page=dashboard" class="text-gray-600 hover:text-blue-600 transition font-medium">
            Dashboard
          </a>
          <a href="/?page=tickets" class="text-gray-600 hover:text-blue-600 transition font-medium">
            Tickets
          </a>
          <form method="POST" action="/" class="inline">
            <input type="hidden" name="action" value="logout">
            <button
              type="submit"
              class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium cursor-pointer"
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                <polyline points="16 17 21 12 16 7" />
                <line x1="21" y1="12" x2="9" y2="12" />
              </svg>
              Logout
            </button>
        </form>
        {% else %}
          <a href="/?page=login" class="text-gray-600 hover:text-blue-600 transition font-medium">
            Login
          </a>
          <a href="/?page=signup" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium">
            Sign Up
          </a>
        {% endif %}
      </div>

      <button id="mobile-menu-btn" class="md:hidden p-2 text-gray-600 hover:text-blue-600 transition" aria-label="Toggle menu">
        <svg id="menu-icon" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 block" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <line x1="4" y1="6" x2="20" y2="6" />
          <line x1="4" y1="12" x2="20" y2="12" />
          <line x1="4" y1="18" x2="20" y2="18" />
        </svg>
        <svg id="close-icon" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
        </svg>
      </button>
    </div>

    <div id="mobile-menu" class="hidden md:hidden py-4 border-t border-gray-200">
      {% if isAuthenticated %}
        <div class="flex flex-col gap-3">
          <a href="/?page=dashboard" class="text-gray-600 hover:text-blue-600 transition font-medium py-2 px-4 rounded-lg hover:bg-gray-50">
            Dashboard
          </a>
          <a href="/?page=tickets" class="text-gray-600 hover:text-blue-600 transition font-medium py-2 px-4 rounded-lg hover:bg-gray-50">
            Tickets
          </a>
          <form action="/logout" method="post" class="inline">
            <button type="submit" class="flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                <polyline points="16 17 21 12 16 7" />
                <line x1="21" y1="12" x2="9" y2="12" />
              </svg>
              Logout
            </button>
          </form>
        </div>
      {% else %}
        <div class="flex flex-col gap-3">
          <a href="/?page=login" class="text-gray-600 hover:text-blue-600 transition font-medium py-2 px-4 rounded-lg hover:bg-gray-50">
            Login
          </a>
          <a href="/?page=signup" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium text-center">
            Sign Up
          </a>
        </div>
      {% endif %}
    </div>
  </div>
</nav>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const btn = document.getElementById('mobile-menu-btn');
  const menu = document.getElementById('mobile-menu');
  const menuIcon = document.getElementById('menu-icon');
  const closeIcon = document.getElementById('close-icon');

  btn.addEventListener('click', () => {
    const isOpen = !menu.classList.contains('hidden');
    menu.classList.toggle('hidden', isOpen);
    menuIcon.classList.toggle('hidden', !isOpen);
    closeIcon.classList.toggle('hidden', isOpen);
  });
});
</script>